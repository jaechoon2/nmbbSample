{"ts":1357692165031,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"define(['router', 'SocialNetSockets'], function(router, socket) {\n  var initialize = function() {\n    socket.initialize(router.socketEvents);\n    checkLogin(runApplication);\n  };\n\n  var checkLogin = function(callback) {\n    $.ajax(\"/account/authenticated\", {\n      method: \"GET\",\n      success: function(data) {\n        router.socketEvents.trigger('app:loggedin', data);\n        return callback(true);\n      },\n      error: function(data) {\n        return callback(false);\n      }\n    });\n  };\n\n  var runApplication = function(authenticated) {\n    if (authenticated) {\n      window.location.hash = 'index';\n    } else {\n      window.location.hash = 'login';\n    }\n    Backbone.history.start();\n  };\n\n  return {\n    initialize: initialize\n  };\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":747}]],"length":747}
{"contributors":[],"silentsave":false,"ts":1357693173200,"patch":[[{"diffs":[[0,"gin';\n    }\n"],[1,"    console.log('Backbone.History.start()')\n"],[0,"    Backbone"]],"start1":652,"start2":652,"length1":24,"length2":68}]],"length":791,"saved":false}
{"ts":1357693394151,"patch":[[{"diffs":[[0,"tart()')"],[1,";"],[0,"\n    Bac"]],"start1":699,"start2":699,"length1":16,"length2":17}]],"length":792,"saved":false}
{"ts":1357693713674,"patch":[[{"diffs":[[0,"Sockets'"],[1,",'backbone'"],[0,"], funct"]],"start1":28,"start2":28,"length1":16,"length2":27},{"diffs":[[0,", socket"],[1,", Backbone    "],[0,") {\n  va"]],"start1":65,"start2":65,"length1":16,"length2":30}]],"length":817,"saved":false}
{"ts":1357693737118,"patch":[[{"diffs":[[0,"ckets','"],[-1,"b"],[1,"B"],[0,"ackbone'"]],"start1":30,"start2":30,"length1":17,"length2":17}]],"length":817,"saved":false}
{"ts":1357693816354,"patch":[[{"diffs":[[0,"ackbone."],[-1,"h"],[1,"H"],[0,"istory.s"]],"start1":739,"start2":739,"length1":17,"length2":17}]],"length":817,"saved":false}
{"ts":1357693883508,"patch":[[{"diffs":[[0,");\n    Backbone."],[-1,"H"],[1,"h"],[0,"istory.start();\n"]],"start1":731,"start2":731,"length1":33,"length2":33}]],"length":817,"saved":false}
{"contributors":[],"silentsave":false,"ts":1357693981676,"patch":[[{"diffs":[[0,"og('"],[-1,"Backbone.H"],[1,"h"],[0,"isto"]],"start1":702,"start2":702,"length1":18,"length2":9}]],"length":808,"saved":false}
{"ts":1357694136033,"patch":[[{"diffs":[[0,"ets'"],[-1,",'Backbone'"],[0,"], f"]],"start1":32,"start2":32,"length1":19,"length2":8},{"diffs":[[0,"cket"],[-1,", Backbone    "],[0,") {\n"]],"start1":58,"start2":58,"length1":22,"length2":8}]],"length":783,"saved":false}
{"ts":1357694241625,"patch":[[{"diffs":[[0,"  }\n"],[-1,"    console.log('history.start()');\n"],[0,"    "]],"start1":660,"start2":660,"length1":44,"length2":8}]],"length":747,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358110515941,"patch":[[{"diffs":[[0,"cket) {\n"],[1,"  "],[0,"  var in"]],"start1":58,"start2":58,"length1":16,"length2":18},{"diffs":[[0,"unction() {\n"],[1,"    "],[0,"    socket.i"]],"start1":88,"start2":88,"length1":24,"length2":28},{"diffs":[[0,"s);\n    "],[1,"  "],[1,"  "],[0,"checkLog"]],"start1":144,"start2":144,"length1":16,"length2":20},{"diffs":[[0,"ation);\n"],[1,"  "],[0,"  };\n\n"],[1,"  "],[0,"  var ch"]],"start1":176,"start2":176,"length1":22,"length2":26},{"diffs":[[0,") {\n    "],[1,"  "],[1,"  "],[0,"$.ajax(\""]],"start1":230,"start2":230,"length1":16,"length2":20},{"diffs":[[0,"ted\", {\n"],[1,"      "],[0,"      me"]],"start1":269,"start2":269,"length1":16,"length2":22},{"diffs":[[0," \"GET\",\n"],[1,"      "],[0,"      su"]],"start1":296,"start2":296,"length1":16,"length2":22},{"diffs":[[0,"        "],[1,"  "],[1,"      "],[0,"router.s"]],"start1":342,"start2":342,"length1":16,"length2":24},{"diffs":[[0," data);\n"],[1,"        "],[0,"        "]],"start1":401,"start2":401,"length1":16,"length2":24},{"diffs":[[0,"    "],[1,"  "],[-1,"},\n"],[1,"    },\n      "],[0,"    "]],"start1":450,"start2":450,"length1":11,"length2":23},{"diffs":[[0,"data) {\n        "],[1,"     "],[1,"   "],[0,"return callback("]],"start1":491,"start2":491,"length1":32,"length2":40},{"diffs":[[0,"    "],[1,"     "],[1," "],[0,"}\n    "],[1,"   "],[1," "],[0,"});\n  "],[1," "],[1," "],[0,"};\n\n  "],[1," "],[1," "],[0,"var "]],"start1":541,"start2":541,"length1":26,"length2":40},{"diffs":[[0,"nticated) {\n"],[1,"    "],[0,"    if (auth"]],"start1":612,"start2":612,"length1":24,"length2":28},{"diffs":[[0,"icated) {\n      "],[1,"   "],[1,"   "],[0,"window.location."]],"start1":643,"start2":643,"length1":32,"length2":38},{"diffs":[[0,"    "],[-1,"}"],[1,"    }\n       "],[0," else {\n"],[1,"      "],[0,"    "]],"start1":697,"start2":697,"length1":17,"length2":35},{"diffs":[[0,"login';\n    "],[1,"   "],[1," "],[0,"}\n"],[1,"    "],[0,"    Backbone"]],"start1":758,"start2":758,"length1":26,"length2":34},{"diffs":[[0,"tart();\n"],[1,"  "],[0,"  };\n\n  "],[1," "],[1," "],[0,"return {"]],"start1":802,"start2":802,"length1":24,"length2":28},{"diffs":[[0,"eturn {\n"],[1,"    "],[0,"    init"]],"start1":823,"start2":823,"length1":16,"length2":20},{"diffs":[[0,"tialize\n"],[1,"  "],[0,"  };\n});"]],"start1":854,"start2":854,"length1":16,"length2":18}]],"length":873,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358117792714,"patch":[[{"diffs":[[0,"    "],[-1,"if (authenticated) {\n            "],[1,"Backbone.history.start();\n        if (authenticated) {\n            Backbone.history.navigate('index');\n            //"],[0,"wind"]],"start1":628,"start2":628,"length1":41,"length2":125},{"diffs":[[0,"        "],[1,"Backbone.history.navigate('login');\n            //"],[0,"window.l"]],"start1":810,"start2":810,"length1":16,"length2":66},{"diffs":[[0,"  }\n"],[-1,"        Backbone.history.start();\n"],[0,"    };\n"],[-1,"\n"],[0,"    "]],"start1":906,"start2":906,"length1":50,"length2":15}]],"length":972,"saved":false}
{"ts":1358117961741,"patch":[[{"diffs":[[0,"('index'"],[1,",true"],[0,");\n     "]],"start1":724,"start2":724,"length1":16,"length2":21},{"diffs":[[0,"('login'"],[1,",true"],[0,");\n     "]],"start1":848,"start2":848,"length1":16,"length2":21}]],"length":982,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358121238621,"patch":[[{"diffs":[[0,"  $."],[-1,"ajax(\""],[1,"get('"],[0,"/acc"]],"start1":240,"start2":240,"length1":14,"length2":13},{"diffs":[[0,"ated"],[-1,"\", {\n            method: \"GET\",\n            success: "],[1,"').done("],[0,"func"]],"start1":267,"start2":267,"length1":61,"length2":16},{"diffs":[[0,"unction(data) {\n"],[-1,"    "],[0,"            rout"]],"start1":280,"start2":280,"length1":36,"length2":32},{"diffs":[[0,"a);\n            "],[-1,"    "],[0,"return callback("]],"start1":355,"start2":355,"length1":36,"length2":32},{"diffs":[[0,"ue);"],[1,"\n        }).fail(function() {\n            return callback(false);\n        });\n        //        $.ajax(\"/account/authenticated\", {\n        //            method: \"GET\",\n        //            success: function(data) {\n        //                "],[0,"\n     "],[1,"   //"],[0,"       "],[-1,"},\n"],[1,"     },\n        //"],[0,"    "]],"start1":389,"start2":389,"length1":24,"length2":286},{"diffs":[[0,"ction(data) {\n  "],[1,"      //"],[0,"              re"]],"start1":693,"start2":693,"length1":32,"length2":40},{"diffs":[[0,"//              "],[1,"  "],[0,"return callback("]],"start1":715,"start2":715,"length1":32,"length2":34},{"diffs":[[0,"e);\n        "],[-1,"    }\n"],[1,"//            }\n        //"],[0,"        });\n"]],"start1":753,"start2":753,"length1":30,"length2":50},{"diffs":[[0,"'index',"],[-1,""],[0,""],[1," "],[0,"true);\n "]],"start1":963,"start2":963,"length1":16,"length2":17},{"diffs":[[0,"'login',"],[-1,""],[0,""],[1," "],[0,"true);\n "]],"start1":1088,"start2":1088,"length1":16,"length2":17}]],"length":1222,"saved":false}
{"ts":1358121638969,"patch":[[{"diffs":[[0,"});\n"],[-1,"        //        $.ajax(\"/account/authenticated\", {\n        //            method: \"GET\",\n        //            success: function(data) {\n        //                \n        //            },\n        //            error: function(data) {\n        //                return callback(false);\n        //            }\n        //        });\n"],[0,"    "]],"start1":467,"start2":467,"length1":340,"length2":8}]],"length":890,"saved":false}
{"ts":1358121765338,"patch":[[{"diffs":[[0,"uthenticated) {\n"],[1,"            \n"],[0,"            Back"]],"start1":577,"start2":577,"length1":32,"length2":45}]],"length":903,"saved":false}
