{"ts":1358122832187,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"app.post('/accounts/:id/status', function(req, res) {\n  var accountId = req.params.id == 'me'\n                     ? req.session.accountId\n                     : req.params.id;\n  models.Account.findById(accountId, function(account) {\n    status = {\n      name: account.name,\n      status: req.param('status', '')\n    };\n    account.status.push(status);  \n\n    // Push the status to all friends\n    account.activity.push(status);\n    account.save(function (err) {\n      if (err) {\n        console.log('Error saving account: ' + err);\n      } else {\n          app.triggerEvent('event:' + accountId, {\n            from: accountId,\n            data: status,\n            action: 'status'\n          });\n      }\n    });\n  });\n  res.send(200);\n});"]],"start1":0,"start2":0,"length1":0,"length2":739}]],"length":739}
